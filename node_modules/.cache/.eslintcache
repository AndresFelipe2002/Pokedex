[{"C:\\Users\\afper\\Desktop\\Pokedex\\src\\index.js":"1","C:\\Users\\afper\\Desktop\\Pokedex\\src\\App.js":"2","C:\\Users\\afper\\Desktop\\Pokedex\\src\\reportWebVitals.js":"3","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Navbar.js":"4","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Searchbar.js":"5","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\api.js":"6","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Pokedex.js":"7","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Pokemon.js":"8","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Pagination.js":"9","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\contexts\\favoritesContext.js":"10","C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\ArrowsSvg.js":"11"},{"size":517,"mtime":1634832694435,"results":"12","hashOfConfig":"13"},{"size":2833,"mtime":1634956485044,"results":"14","hashOfConfig":"13"},{"size":375,"mtime":1634832676001,"results":"15","hashOfConfig":"13"},{"size":567,"mtime":1634832403092,"results":"16","hashOfConfig":"13"},{"size":656,"mtime":1634956346657,"results":"17","hashOfConfig":"13"},{"size":697,"mtime":1634956343734,"results":"18","hashOfConfig":"13"},{"size":832,"mtime":1634828036721,"results":"19","hashOfConfig":"13"},{"size":1282,"mtime":1634958763582,"results":"20","hashOfConfig":"13"},{"size":652,"mtime":1634956349741,"results":"21","hashOfConfig":"13"},{"size":241,"mtime":1634832406703,"results":"22","hashOfConfig":"13"},{"size":743,"mtime":1634956353346,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"lohsff",{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\afper\\Desktop\\Pokedex\\src\\index.js",[],["48","49"],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\App.js",["50"],"import React from 'react';\r\nimport \"./styles.css\";\r\nimport Navbar from '../src/components/Navbar';\r\nimport Searchbar from './components/Searchbar';\r\nimport Pokedex from './components/Pokedex';\r\nimport { getPokemonData, getPokemons, searchPokemon } from './components/api';\r\nimport { FavoriteProvider } from './components/contexts/favoritesContext';\r\n\r\nconst {useState, useEffect} = React;\r\n\r\nconst localStorageKey = \"favorite_pokemon\";\r\n\r\nexport default function App() {\r\n  const [pokemons, setPokemons] = useState([]);\r\n  const [page, setPage] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n  const [loading, setLoading] = useState(true);\r\n  const [favorites, setFavorites] = useState([]);\r\n  const [notFound, setNotFound] = useState(false);\r\n  const [searching, setSearching] = useState(false);\r\n\r\n  const fetchPokemons = async () => {\r\ntry {\r\nsetLoading(true);\r\nconst data = await getPokemons(25, 25 * page); \r\nconst promises = data.results.map(async(pokemon) => {\r\nreturn await getPokemonData(pokemon.url)\r\n})\r\nconst results = await Promise.all(promises)\r\nsetPokemons(results)\r\nsetLoading(false);\r\nsetTotal(Math.ceil(data.count / 25));\r\nsetNotFound(false);\r\n} catch(err){}\r\n\r\n};\r\n\r\nconst loadFavoritePokemons = () => {\r\n  const pokemons = JSON.parse (window.localStorage.getItem(localStorageKey)) || [];\r\n  setFavorites(pokemons);\r\n\r\n};\r\n\r\nuseEffect(() => {\r\n  loadFavoritePokemons();\r\n  }, []);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n  if (!searching) {\r\nfetchPokemons();\r\n  }\r\n}, [page]);\r\n\r\n\r\n const updateFavoritePokemons = (name) => {\r\n   const updated = [...favorites];\r\n   const isFavorite = updated.indexOf(name);\r\n   if(isFavorite >= 0) {\r\n     updated.splice(isFavorite, 1);\r\n   } else {\r\n     updated.push(name);\r\n   }\r\n   setFavorites(updated);\r\n   window.localStorage.setItem(localStorageKey, JSON.stringify(updated));\r\n};\r\n\r\n\r\nconst onSearch = async (pokemon) => {\r\n  if (!pokemon) {\r\n    return fetchPokemons();\r\n  }\r\n setLoading(true);\r\n setNotFound(false);\r\n setSearching(true);\r\n const result = await searchPokemon(pokemon);\r\n if (!result) {\r\n setNotFound(true);\r\n setLoading(false);\r\n return;\r\n } else {\r\n setPokemons([result]);\r\n setPage(0);\r\n setTotal(1);\r\n }\r\n setLoading(false);\r\n setSearching(false);\r\n};\r\n\r\n  return (\r\n    <FavoriteProvider value={{\r\n      favoritePokemons: favorites,\r\n      updateFavoritePokemons: updateFavoritePokemons\r\n      }} >\r\n\r\n    <div>\r\n      <Navbar />\r\n    <div className=\"App\">\r\n       <Searchbar onSearch={onSearch} />\r\n       {notFound ? (\r\n       <div className=\"not-found-text\">No se encontro el Pokemon que buscabas ðŸ˜­</div>\r\n       ) : (\r\n       <Pokedex \r\n       loading={loading}\r\n       pokemons={pokemons} \r\n       page={page} \r\n       setPage={setPage}\r\n       total={total}\r\n       />\r\n       )}\r\n    </div> \r\n    </div>\r\n    </FavoriteProvider>\r\n  );\r\n}\r\n\r\n\r\n","C:\\Users\\afper\\Desktop\\Pokedex\\src\\reportWebVitals.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Navbar.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Searchbar.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\api.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Pokedex.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Pokemon.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\Pagination.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\contexts\\favoritesContext.js",[],"C:\\Users\\afper\\Desktop\\Pokedex\\src\\components\\ArrowsSvg.js",[],{"ruleId":"51","replacedBy":"52"},{"ruleId":"53","replacedBy":"54"},{"ruleId":"55","severity":1,"message":"56","line":54,"column":4,"nodeType":"57","endLine":54,"endColumn":10,"suggestions":"58"},"no-native-reassign",["59"],"no-negated-in-lhs",["60"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fetchPokemons' and 'searching'. Either include them or remove the dependency array.","ArrayExpression",["61"],"no-global-assign","no-unsafe-negation",{"desc":"62","fix":"63"},"Update the dependencies array to be: [fetchPokemons, page, searching]",{"range":"64","text":"65"},[1484,1490],"[fetchPokemons, page, searching]"]